{"version":3,"file":"datatable.js","sourceRoot":"","sources":["datatable.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,ElementRef,AfterContentInit,AfterViewInit,AfterViewChecked,OnInit,OnDestroy,DoCheck,Input,ViewContainerRef,\n        Output,SimpleChange,EventEmitter,ContentChild,ContentChildren,Renderer,IterableDiffers,QueryList,TemplateRef,ChangeDetectorRef} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms'\nimport {SharedModule} from '../common/shared';\nimport {PaginatorModule} from '../paginator/paginator';\nimport {InputTextModule} from '../inputtext/inputtext';\nimport {Column,Header,Footer,HeaderColumnGroup,FooterColumnGroup,PrimeTemplate} from '../common/shared';\nimport {LazyLoadEvent,FilterMetadata,SortMeta} from '../common/api';\nimport {DomHandler} from '../dom/domhandler';\nimport {Subscription} from 'rxjs/Subscription';\nimport {BlockableUI} from '../common/api';\n\n@Component({\n    selector: 'p-dtRadioButton',\n    template: `\n        <div class=\"ui-radiobutton ui-widget\">\n            <div class=\"ui-helper-hidden-accessible\">\n                <input type=\"radio\" [checked]=\"checked\">\n            </div>\n            <div class=\"ui-radiobutton-box ui-widget ui-radiobutton-relative ui-state-default\" (click)=\"handleClick($event)\"\n                        (mouseenter)=\"hover=true\" (mouseleave)=\"hover=false\"\n                        [ngClass]=\"{'ui-state-hover':hover,'ui-state-active':checked}\">\n                <span class=\"ui-radiobutton-icon\" [ngClass]=\"{'fa fa-circle':checked}\"></span>\n            </div>\n        </div>\n    `\n})\nexport class DTRadioButton {\n    \n    @Input() checked: boolean;\n\n    @Output() onClick: EventEmitter<any> = new EventEmitter();\n    \n    public hover: boolean;\n    \n    handleClick(event) {\n        this.onClick.emit(event);\n    }\n}\n\n@Component({\n    selector: 'p-dtCheckbox',\n    template: `\n        <div class=\"ui-chkbox ui-widget\">\n            <div class=\"ui-helper-hidden-accessible\">\n                <input type=\"checkbox\" [checked]=\"checked\">\n            </div>\n            <div class=\"ui-chkbox-box ui-widget ui-corner-all ui-state-default\" (click)=\"handleClick($event)\"\n                        (mouseover)=\"hover=true\" (mouseout)=\"hover=false\" \n                        [ngClass]=\"{'ui-state-hover':hover&&!disabled,'ui-state-active':checked&&!disabled,'ui-state-disabled':disabled}\">\n                <span class=\"ui-chkbox-icon ui-c\" [ngClass]=\"{'fa fa-check':checked}\"></span>\n            </div>\n        </div>\n    `\n})\nexport class DTCheckbox {\n    \n    @Input() checked: boolean;\n    \n    @Input() disabled: boolean;\n\n    @Output() onChange: EventEmitter<any> = new EventEmitter();\n    \n    public hover: boolean;\n    \n    handleClick(event) {\n        if(!this.disabled) {\n            this.onChange.emit({originalEvent: event, checked: !this.checked});\n        }\n\n    }\n}\n\n@Component({\n    selector: 'p-rowExpansionLoader',\n    template: ``\n})\nexport class RowExpansionLoader {\n        \n    @Input() template: TemplateRef<any>;\n    \n    @Input() rowData: any;\n    \n    constructor(public viewContainer: ViewContainerRef) {}\n    \n    ngOnInit() {\n        let view = this.viewContainer.createEmbeddedView(this.template, {\n            '\\$implicit': this.rowData\n        });\n    }\n}\n\n@Component({\n    selector: 'p-dataTable',\n    template: `\n        <div [ngStyle]=\"style\" [class]=\"styleClass\" \n            [ngClass]=\"{'ui-datatable ui-widget':true,'ui-datatable-reflow':responsive,'ui-datatable-stacked':stacked,'ui-datatable-resizable':resizableColumns,'ui-datatable-scrollable':scrollable}\">\n            <div class=\"ui-datatable-header ui-widget-header\" *ngIf=\"header\" [ngStyle]=\"{'width': scrollWidth}\">\n                <ng-content select=\"header\"></ng-content>\n            </div>\n            <p-paginator [rows]=\"rows\" [first]=\"first\" [totalRecords]=\"totalRecords\" [pageLinkSize]=\"pageLinks\" styleClass=\"ui-paginator-bottom\"\n                (onPageChange)=\"paginate($event)\" [rowsPerPageOptions]=\"rowsPerPageOptions\" *ngIf=\"paginator && paginatorPosition!='bottom' || paginatorPosition =='both'\"></p-paginator>\n            <div class=\"ui-datatable-tablewrapper\" *ngIf=\"!scrollable\">\n                <table [class]=\"tableStyleClass\" [ngStyle]=\"tableStyle\">\n                    <thead>\n                        <tr *ngIf=\"!headerColumnGroup\" class=\"ui-state-default\">\n                            <template ngFor let-col [ngForOf]=\"columns\" let-lastCol=\"last\">\n                                <th #headerCell [ngStyle]=\"col.style\" [class]=\"col.styleClass\" [style.display]=\"col.hidden ? 'none' : 'table-cell'\"\n                                    (click)=\"sort($event,col)\" (mouseenter)=\"hoveredHeader = $event.target\" (mouseleave)=\"hoveredHeader = null\"\n                                    [ngClass]=\"{'ui-state-default ui-unselectable-text':true, 'ui-state-hover': headerCell === hoveredHeader && col.sortable,'ui-state-focus': headerCell === focusedHeader && col.sortable,\n                                    'ui-sortable-column': col.sortable,'ui-state-active': isSorted(col), 'ui-resizable-column': resizableColumns,'ui-selection-column':col.selectionMode}\" \n                                    (dragstart)=\"onColumnDragStart($event)\" (dragover)=\"onColumnDragover($event)\" (dragleave)=\"onColumnDragleave($event)\" (drop)=\"onColumnDrop($event)\" (mousedown)=\"onHeaderMousedown($event,headerCell)\"\n                                    [attr.tabindex]=\"col.sortable ? tabindex : null\" (focus)=\"focusedHeader=$event.target\" (blur)=\"focusedHeader=null\" (keydown)=\"onHeaderKeydown($event,col)\">\n                                    <span class=\"ui-column-resizer\" *ngIf=\"resizableColumns && ((columnResizeMode == 'fit' && !lastCol) || columnResizeMode == 'expand')\" (mousedown)=\"initColumnResize($event)\"></span>\n                                    <span class=\"ui-column-title\" *ngIf=\"!col.selectionMode&&!col.headerTemplate\">{{col.header}}</span>\n                                    <span class=\"ui-column-title\" *ngIf=\"col.headerTemplate\">\n                                        <p-columnHeaderTemplateLoader [column]=\"col\"></p-columnHeaderTemplateLoader>\n                                    </span>\n                                    <span class=\"ui-sortable-column-icon fa fa-fw fa-sort\" *ngIf=\"col.sortable\"\n                                         [ngClass]=\"{'fa-sort-desc': (getSortOrder(col) == -1),'fa-sort-asc': (getSortOrder(col) == 1)}\"></span>\n                                    <input type=\"text\" pInputText class=\"ui-column-filter\" [attr.placeholder]=\"col.filterPlaceholder\" *ngIf=\"col.filter&&!col.filterTemplate\" [value]=\"filters[col.field] ? filters[col.field].value : ''\" (click)=\"onFilterInputClick($event)\" (keyup)=\"onFilterKeyup($event.target.value, col.field, col.filterMatchMode)\"/>\n                                    <p-columnFilterTemplateLoader [column]=\"col\" *ngIf=\"col.filterTemplate\"></p-columnFilterTemplateLoader>\n                                    <p-dtCheckbox *ngIf=\"col.selectionMode=='multiple'\" (onChange)=\"toggleRowsWithCheckbox($event)\" [checked]=\"allSelected\" [disabled]=\"isEmpty()\"></p-dtCheckbox>\n                                </th>\n                            </template>\n                        </tr>\n                        <template [ngIf]=\"headerColumnGroup\">\n                            <tr *ngFor=\"let headerRow of headerColumnGroup.rows\" class=\"ui-state-default\">\n                                <th #headerCell *ngFor=\"let col of headerRow.columns\" [ngStyle]=\"col.style\" [class]=\"col.styleClass\" [attr.colspan]=\"col.colspan\" [attr.rowspan]=\"col.rowspan\"\n                                    (click)=\"sort($event,col)\" (mouseenter)=\"hoveredHeader = $event.target\" (mouseleave)=\"hoveredHeader = null\" [style.display]=\"col.hidden ? 'none' : 'table-cell'\"\n                                    [ngClass]=\"{'ui-state-default ui-unselectable-text':true, 'ui-state-hover': headerCell === hoveredHeader && col.sortable,\n                                    'ui-sortable-column': col.sortable,'ui-state-active': isSorted(col), 'ui-resizable-column': resizableColumns}\"\n                                    [tabindex]=\"col.sortable ? tabindex : -1\" (focus)=\"focusedHeader=$event.target\" (blur)=\"focusedHeader=null\" (keydown)=\"onHeaderKeydown($event,col)\">\n                                    <span class=\"ui-column-resizer\" *ngIf=\"resizableColumns && ((columnResizeMode == 'fit' && !lastCol) || columnResizeMode == 'expand')\" (mousedown)=\"initColumnResize($event)\"></span>\n                                    <span class=\"ui-column-title\" *ngIf=\"!col.selectionMode&&!col.headerTemplate\">{{col.header}}</span>\n                                    <span class=\"ui-column-title\" *ngIf=\"col.headerTemplate\">\n                                        <p-columnHeaderTemplateLoader [column]=\"col\"></p-columnHeaderTemplateLoader>\n                                    </span>\n                                    <span class=\"ui-sortable-column-icon fa fa-fw fa-sort\" *ngIf=\"col.sortable\"\n                                         [ngClass]=\"{'fa-sort-desc': (getSortOrder(col) == -1),'fa-sort-asc': (getSortOrder(col) == 1)}\"></span>\n                                    <input type=\"text\" pInputText class=\"ui-column-filter\" [attr.placeholder]=\"col.filterPlaceholder\" *ngIf=\"col.filter\" [value]=\"filters[col.field] ? filters[col.field].value : ''\" (click)=\"onFilterInputClick($event)\" (keyup)=\"onFilterKeyup($event.target.value, col.field, col.filterMatchMode)\"/>\n                                </th>\n                            </tr>\n                        </template>\n                    </thead>\n                    <tfoot *ngIf=\"hasFooter()\">\n                        <tr *ngIf=\"!footerColumnGroup\">\n                            <th *ngFor=\"let col of columns\" [ngStyle]=\"col.style\" [class]=\"col.styleClass\" [ngClass]=\"{'ui-state-default':true}\" [style.display]=\"col.hidden ? 'none' : 'table-cell'\">\n                                <span class=\"ui-column-footer\" *ngIf=\"!col.footerTemplate\">{{col.footer}}</span>\n                                <span class=\"ui-column-footer\" *ngIf=\"col.footerTemplate\">\n                                    <p-columnFooterTemplateLoader [column]=\"col\"></p-columnFooterTemplateLoader>\n                                </span>\n                            </th>\n                        </tr>\n                        <template [ngIf]=\"footerColumnGroup\">\n                            <tr *ngFor=\"let footerRow of footerColumnGroup.rows\">\n                                <th *ngFor=\"let col of footerRow.columns\" [ngStyle]=\"col.style\" [class]=\"col.styleClass\"\n                                    [attr.colspan]=\"col.colspan\" [attr.rowspan]=\"col.rowspan\" [style.display]=\"col.hidden ? 'none' : 'table-cell'\"\n                                    [ngClass]=\"{'ui-state-default':true}\">\n                                    <span class=\"ui-column-footer\" *ngIf=\"!col.footerTemplate\">{{col.footer}}</span>\n                                    <span class=\"ui-column-footer\" *ngIf=\"col.footerTemplate\">\n                                        <p-columnFooterTemplateLoader [column]=\"col\"></p-columnFooterTemplateLoader>\n                                    </span>\n                                </th>\n                            </tr>\n                        </template>\n                    </tfoot>\n                    <tbody class=\"ui-datatable-data ui-widget-content\">\n                        <template ngFor let-rowData [ngForOf]=\"dataToRender\" let-even=\"even\" let-odd=\"odd\" let-rowIndex=\"index\">\n                            <tr #rowGroupElement class=\"ui-widget-header ui-rowgroup-header\" *ngIf=\"rowGroupMode=='subheader' && (rowIndex === 0||(resolveFieldData(rowData,groupField) !== resolveFieldData(dataToRender[rowIndex - 1],groupField)))\"\n                                (click)=\"onRowGroupClick($event)\" [ngStyle]=\"{'cursor': sortableRowGroup ? 'pointer' : 'auto'}\">\n                                <td [attr.colspan]=\"columns.length\">\n                                    <a href=\"#\" *ngIf=\"expandableRowGroups\" (click)=\"toggleRowGroup($event,rowData)\">\n                                        <span class=\"fa fa-fw\" [ngClass]=\"{'fa-chevron-circle-down':isRowGroupExpanded(rowData), 'fa-chevron-circle-right': !isRowGroupExpanded(rowData)}\"></span>\n                                    </a>\n                                    <p-templateLoader [template]=\"rowGroupHeaderTemplate\" [data]=\"rowData\"></p-templateLoader>\n                                </td>\n                            </tr>\n                            <tr #rowElement *ngIf=\"!expandableRowGroups||isRowGroupExpanded(rowData)\" [class]=\"getRowStyleClass(rowData,rowIndex)\" (mouseenter)=\"hoveredRow = $event.target\" (mouseleave)=\"hoveredRow = null\"\n                                    (click)=\"handleRowClick($event, rowData)\" (dblclick)=\"rowDblclick($event,rowData)\" (contextmenu)=\"onRowRightClick($event,rowData)\" (touchstart)=\"handleRowTap($event, rowData)\"\n                                    [ngClass]=\"{'ui-datatable-even':even&&rowGroupMode!='rowspan','ui-datatable-odd':odd&&rowGroupMode!='rowspan','ui-state-hover': ((rowHover || selectionMode) && rowElement == hoveredRow), 'ui-state-highlight': isSelected(rowData)}\">\n                                <template ngFor let-col [ngForOf]=\"columns\" let-colIndex=\"index\">\n                                    <td *ngIf=\"!rowGroupMode || (rowGroupMode == 'subheader') ||\n                                        (rowGroupMode=='rowspan' && ((sortField==col.field && rowGroupMetadata[resolveFieldData(rowData,sortField)].index == rowIndex) || (sortField!=col.field)))\"\n                                        [ngStyle]=\"col.style\" [class]=\"col.styleClass\" [style.display]=\"col.hidden ? 'none' : 'table-cell'\"\n                                        [ngClass]=\"{'ui-editable-column':col.editable,'ui-selection-column':col.selectionMode}\" (click)=\"switchCellToEditMode($event.target,col,rowData)\"\n                                        [attr.rowspan]=\"(rowGroupMode=='rowspan' && sortField == col.field && rowGroupMetadata[resolveFieldData(rowData,sortField)].index == rowIndex) ? rowGroupMetadata[resolveFieldData(rowData,sortField)].size : null\">\n                                        <span class=\"ui-column-title\" *ngIf=\"responsive\">{{col.header}}</span>\n                                        <span class=\"ui-cell-data\" *ngIf=\"!col.bodyTemplate && !col.expander && !col.selectionMode\">{{resolveFieldData(rowData,col.field)}}</span>\n                                        <span class=\"ui-cell-data\" *ngIf=\"col.bodyTemplate\">\n                                            <p-columnBodyTemplateLoader [column]=\"col\" [rowData]=\"rowData\" [rowIndex]=\"rowIndex + first\"></p-columnBodyTemplateLoader>\n                                        </span>\n                                        <input type=\"text\" class=\"ui-cell-editor ui-state-highlight\" *ngIf=\"col.editable\" [(ngModel)]=\"rowData[col.field]\"\n                                                (blur)=\"switchCellToViewMode($event.target,col,rowData,true)\" (keydown)=\"onCellEditorKeydown($event, col, rowData, colIndex)\"/>\n                                        <a href=\"#\" *ngIf=\"col.expander\" (click)=\"toggleRow(rowData,$event)\">\n                                            <span class=\"ui-row-toggler fa fa-fw ui-c\" [ngClass]=\"{'fa-chevron-circle-down':isRowExpanded(rowData), 'fa-chevron-circle-right': !isRowExpanded(rowData)}\"></span>\n                                        </a>\n                                        <p-dtRadioButton *ngIf=\"col.selectionMode=='single'\" (onClick)=\"selectRowWithRadio($event, rowData)\" [checked]=\"isSelected(rowData)\"></p-dtRadioButton>\n                                        <p-dtCheckbox *ngIf=\"col.selectionMode=='multiple'\" (onChange)=\"toggleRowWithCheckbox($event,rowData)\" [checked]=\"isSelected(rowData)\"></p-dtCheckbox>\n                                    </td>\n                                </template>\n                            </tr>\n                            <tr class=\"ui-widget-header\" *ngIf=\"rowGroupFooterTemplate && rowGroupMode=='subheader' && ((rowIndex === dataToRender.length - 1)||(resolveFieldData(rowData,groupField) !== resolveFieldData(dataToRender[rowIndex + 1],groupField))) && (!expandableRowGroups || isRowGroupExpanded(rowData))\">\n                                <p-templateLoader class=\"ui-helper-hidden\" [data]=\"rowData\" [template]=\"rowGroupFooterTemplate\"></p-templateLoader>\n                            </tr>\n                            <tr *ngIf=\"expandableRows && isRowExpanded(rowData)\">\n                                <td [attr.colspan]=\"visibleColumns().length\">\n                                    <p-rowExpansionLoader [rowData]=\"rowData\" [template]=\"rowExpansionTemplate\"></p-rowExpansionLoader>\n                                </td>\n                            </tr>\n                        </template>\n                        \n                        <tr *ngIf=\"isEmpty()\" class=\"ui-widget-content\">\n                            <td [attr.colspan]=\"visibleColumns().length\" class=\"ui-datatable-emptymessage\">{{emptyMessage}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div class=\"ui-column-resizer-helper ui-state-highlight\" style=\"display:none\"></div>\n                <span class=\"fa fa-arrow-down ui-datatable-reorder-indicator-up\" style=\"position: absolute; display: none;\"></span>\n                <span class=\"fa fa-arrow-up ui-datatable-reorder-indicator-down\" style=\"position: absolute; display: none;\"></span>\n            </div>\n            <div class=\"ui-widget-header ui-datatable-scrollable-header\" *ngIf=\"scrollable\" [ngStyle]=\"{'width': scrollWidth}\">\n                <div class=\"ui-datatable-scrollable-header-box\">\n                    <table [class]=\"tableStyleClass\" [ngStyle]=\"tableStyle\">\n                        <thead>\n                            <tr>\n                                <template ngFor let-col [ngForOf]=\"columns\" let-lastCol=\"last\">\n                                    <th #headerCell [ngStyle]=\"col.style\" [class]=\"col.styleClass\" [style.display]=\"col.hidden ? 'none' : 'table-cell'\"\n                                        (click)=\"sort($event,col)\" (mouseenter)=\"hoveredHeader = $event.target\" (mouseleave)=\"hoveredHeader = null\"\n                                        [ngClass]=\"{'ui-state-default ui-unselectable-text':true, 'ui-state-hover': headerCell === hoveredHeader && col.sortable,\n                                        'ui-sortable-column': col.sortable,'ui-state-active': isSorted(col), 'ui-resizable-column': resizableColumns,'ui-selection-column':col.selectionMode}\"\n                                        [tabindex]=\"col.sortable ? tabindex : -1\" (focus)=\"focusedHeader=$event.target\" (blur)=\"focusedHeader=null\" (keydown)=\"onHeaderKeydown($event,col)\">\n                                        <span class=\"ui-column-resizer\" *ngIf=\"resizableColumns && ((columnResizeMode == 'fit' && !lastCol) || columnResizeMode == 'expand')\"></span>\n                                        <span class=\"ui-column-title\" *ngIf=\"!col.selectionMode&&!col.headerTemplate\">{{col.header}}</span>\n                                        <span class=\"ui-column-title\" *ngIf=\"col.headerTemplate\">\n                                            <p-columnHeaderTemplateLoader [column]=\"col\"></p-columnHeaderTemplateLoader>\n                                        </span>\n                                        <span class=\"ui-sortable-column-icon fa fa-fw fa-sort\" *ngIf=\"col.sortable\"\n                                             [ngClass]=\"{'fa-sort-desc': (col.field === sortField) && (sortOrder == -1),'fa-sort-asc': (col.field === sortField) && (sortOrder == 1)}\"></span>\n                                        <input type=\"text\" pInputText class=\"ui-column-filter\" [attr.placeholder]=\"col.filterPlaceholder\" *ngIf=\"col.filter\" [value]=\"filters[col.field] ? filters[col.field].value : ''\" (click)=\"onFilterInputClick($event)\" (keyup)=\"onFilterKeyup($event.target.value, col.field, col.filterMatchMode)\"/>\n                                        <p-dtCheckbox *ngIf=\"col.selectionMode=='multiple'\" (onChange)=\"toggleRowsWithCheckbox($event)\" [checked]=\"allSelected\" [disabled]=\"isEmpty()\"></p-dtCheckbox>\n                                    </th>\n                                </template>\n                            </tr>\n                        </thead>\n                    </table>\n                </div>\n            </div>\n            <div class=\"ui-datatable-scrollable-body\" *ngIf=\"scrollable\" [ngStyle]=\"{'width': scrollWidth}\">\n                <table [class]=\"tableStyleClass\" [ngStyle]=\"tableStyle\">\n                    <tbody class=\"ui-datatable-data ui-widget-content\">\n                        <template ngFor let-rowData [ngForOf]=\"dataToRender\" let-even=\"even\" let-odd=\"odd\" let-rowIndex=\"index\">\n                            <tr #rowGroupElement class=\"ui-widget-header ui-rowgroup-header\" *ngIf=\"rowGroupMode=='subheader' && (rowIndex === 0||(resolveFieldData(rowData,groupField) !== resolveFieldData(dataToRender[rowIndex -1],groupField)))\"\n                                (click)=\"onRowGroupClick($event)\" [ngStyle]=\"{'cursor': sortableRowGroup ? 'pointer' : 'auto'}\">\n                                <td [attr.colspan]=\"columns.length\"><p-templateLoader [template]=\"rowGroupHeaderTemplate\" [data]=\"rowData\"></p-templateLoader></td>\n                            </tr>\n                            <tr #rowElement class=\"ui-widget-content\" [class]=\"getRowStyleClass(rowData,rowIndex)\" (mouseenter)=\"hoveredRow = $event.target\" (mouseleave)=\"hoveredRow = null\"\n                                    (click)=\"handleRowClick($event, rowData)\" (dblclick)=\"rowDblclick($event,rowData)\" (contextmenu)=\"onRowRightClick($event,rowData)\"\n                                    [ngClass]=\"{'ui-datatable-even':even,'ui-datatable-odd':odd,'ui-state-hover': ((rowHover || selectionMode) && rowElement == hoveredRow), 'ui-state-highlight': isSelected(rowData)}\">\n                                <template ngFor let-col [ngForOf]=\"columns\" let-colIndex=\"index\">\n                                <td *ngIf=\"!rowGroupMode || (rowGroupMode == 'subheader') ||\n                                    (rowGroupMode=='rowspan' && ((sortField==col.field && rowGroupMetadata[resolveFieldData(rowData,sortField)].index == rowIndex) || (sortField!=col.field)))\"\n                                    [ngStyle]=\"col.style\" [class]=\"col.styleClass\" [style.display]=\"col.hidden ? 'none' : 'table-cell'\"\n                                    [ngClass]=\"{'ui-editable-column':col.editable,'ui-selection-column':col.selectionMode}\" (click)=\"switchCellToEditMode($event.target,col,rowData)\"\n                                    [attr.rowspan]=\"(rowGroupMode=='rowspan' && sortField == col.field && rowGroupMetadata[resolveFieldData(rowData,sortField)].index == rowIndex) ? rowGroupMetadata[resolveFieldData(rowData,sortField)].size : null\">\n                                    <span class=\"ui-column-title\" *ngIf=\"responsive\">{{col.header}}</span>\n                                    <span class=\"ui-cell-data\" *ngIf=\"!col.bodyTemplate && !col.expander && !col.selectionMode\">{{resolveFieldData(rowData,col.field)}}</span>\n                                    <span class=\"ui-cell-data\" *ngIf=\"col.bodyTemplate\">\n                                        <p-columnBodyTemplateLoader [column]=\"col\" [rowData]=\"rowData\" [rowIndex]=\"rowIndex + first\"></p-columnBodyTemplateLoader>\n                                    </span>\n                                    <input type=\"text\" class=\"ui-cell-editor ui-state-highlight\" *ngIf=\"col.editable\" [(ngModel)]=\"rowData[col.field]\"\n                                            (blur)=\"switchCellToViewMode($event.target,col,rowData,true)\" (keydown)=\"onCellEditorKeydown($event, col, rowData, colIndex)\"/>\n                                    <a href=\"#\" *ngIf=\"col.expander\" (click)=\"toggleRow(rowData,$event)\">\n                                        <span class=\"ui-row-toggler fa fa-fw ui-c\" [ngClass]=\"{'fa-chevron-circle-down':isRowExpanded(rowData), 'fa-chevron-circle-right': !isRowExpanded(rowData)}\"></span>\n                                    </a>\n                                    <p-dtRadioButton *ngIf=\"col.selectionMode=='single'\" (onClick)=\"selectRowWithRadio($event, rowData)\" [checked]=\"isSelected(rowData)\"></p-dtRadioButton>\n                                    <p-dtCheckbox *ngIf=\"col.selectionMode=='multiple'\" (onChange)=\"toggleRowWithCheckbox($event,rowData)\" [checked]=\"isSelected(rowData)\"></p-dtCheckbox>\n                                </td>\n                                </template>\n                            </tr>\n                            <tr *ngIf=\"expandableRows && isRowExpanded(rowData)\">\n                                <td [attr.colspan]=\"visibleColumns().length\">\n                                    <p-rowExpansionLoader [rowData]=\"rowData\" [template]=\"rowExpansionTemplate\"></p-rowExpansionLoader>\n                                </td>\n                            </tr>\n                        </template>\n                        \n                        <tr *ngIf=\"isEmpty()\" class=\"ui-widget-content\">\n                            <td [attr.colspan]=\"visibleColumns().length\" class=\"ui-datatable-emptymessage\">{{emptyMessage}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <p-paginator [rows]=\"rows\" [first]=\"first\" [totalRecords]=\"totalRecords\" [pageLinkSize]=\"pageLinks\" styleClass=\"ui-paginator-bottom\"\n                (onPageChange)=\"paginate($event)\" [rowsPerPageOptions]=\"rowsPerPageOptions\" *ngIf=\"paginator && paginatorPosition!='top' || paginatorPosition =='both'\"></p-paginator>\n            <div class=\"ui-datatable-footer ui-widget-header\" *ngIf=\"footer\">\n                <ng-content select=\"footer\"></ng-content>\n            </div>\n        </div>\n    `,\n    providers: [DomHandler]\n})\nexport class DataTable implements AfterViewChecked,AfterViewInit,AfterContentInit,OnInit,DoCheck,OnDestroy,BlockableUI {\n\n    @Input() value: any[];\n\n    @Input() paginator: boolean;\n\n    @Input() rows: number;\n\n    @Input() totalRecords: number;\n\n    @Input() pageLinks: number = 5;\n\n    @Input() rowsPerPageOptions: number[];\n\n    @Input() responsive: boolean;\n    \n    @Input() stacked: boolean;\n\n    @Input() selectionMode: string;\n\n    @Input() selection: any;\n\n    @Output() selectionChange: EventEmitter<any> = new EventEmitter();\n\n    @Input() editable: boolean;\n    \n    @Output() onRowClick: EventEmitter<any> = new EventEmitter();\n\n    @Output() onRowSelect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onRowUnselect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onRowDblclick: EventEmitter<any> = new EventEmitter();\n    \n    @Output() onHeaderCheckboxToggle: EventEmitter<any> = new EventEmitter();\n    \n    @Output() onContextMenuSelect: EventEmitter<any> = new EventEmitter();\n\n    @Input() filterDelay: number = 300;\n\n    @Input() lazy: boolean;\n\n    @Output() onLazyLoad: EventEmitter<any> = new EventEmitter();\n\n    @Input() resizableColumns: boolean;\n\n    @Input() columnResizeMode: string = 'fit';\n\n    @Output() onColResize: EventEmitter<any> = new EventEmitter();\n\n    @Input() reorderableColumns: boolean;\n\n    @Output() onColReorder: EventEmitter<any> = new EventEmitter();\n\n    @Input() scrollable: boolean;\n\n    @Input() scrollHeight: any;\n\n    @Input() scrollWidth: any;\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n    \n    @Input() tableStyle: any;\n\n    @Input() tableStyleClass: string;\n\n    @Input() globalFilter: any;\n\n    @Input() sortMode: string = 'single';\n\n    @Input() sortField: string;\n\n    @Input() sortOrder: number = 1;\n    \n    @Input() groupField: string;\n\n    @Input() multiSortMeta: SortMeta[];\n    \n    @Input() contextMenu: any;\n    \n    @Input() csvSeparator: string = ',';\n    \n    @Input() exportFilename: string = 'download';\n    \n    @Input() emptyMessage: string = 'No records found';\n    \n    @Input() paginatorPosition: string = 'bottom';\n    \n    @Output() onEditInit: EventEmitter<any> = new EventEmitter();\n\n    @Output() onEditComplete: EventEmitter<any> = new EventEmitter();\n\n    @Output() onEdit: EventEmitter<any> = new EventEmitter();\n\n    @Output() onEditCancel: EventEmitter<any> = new EventEmitter();\n    \n    @Output() onPage: EventEmitter<any> = new EventEmitter();\n        \n    @Output() onSort: EventEmitter<any> = new EventEmitter();\n            \n    @Output() onFilter: EventEmitter<any> = new EventEmitter();\n\n    @ContentChild(Header) header;\n\n    @ContentChild(Footer) footer;\n    \n    @Input() expandableRows: boolean;\n    \n    @Input() expandedRows: any[];\n    \n    @Input() expandableRowGroups: boolean;\n    \n    @Input() public expandedRowsGroups: any[];\n    \n    @Input() tabindex: number = 1;\n    \n    @Input() rowStyleClass: Function;\n    \n    @Input() rowGroupMode: string; \n    \n    @Input() sortableRowGroup: boolean = true; \n    \n    @Input() sortFile: string; \n\n    @Input() rowHover: boolean;\n    \n    @Input() first: number = 0;\n    \n    @Input() public filters: {[s: string]: FilterMetadata;} = {};\n        \n    @Output() onRowExpand: EventEmitter<any> = new EventEmitter();\n    \n    @Output() onRowCollapse: EventEmitter<any> = new EventEmitter();\n    \n    @Output() onRowGroupExpand: EventEmitter<any> = new EventEmitter();\n    \n    @Output() onRowGroupCollapse: EventEmitter<any> = new EventEmitter();\n        \n    @ContentChildren(PrimeTemplate) templates: QueryList<PrimeTemplate>;\n    \n    @ContentChildren(Column) cols: QueryList<Column>;\n    \n    @ContentChild(HeaderColumnGroup) headerColumnGroup: HeaderColumnGroup;\n    \n    @ContentChild(FooterColumnGroup) footerColumnGroup: FooterColumnGroup;\n        \n    public dataToRender: any[];\n\n    public page: number = 0;\n\n    public filterTimeout: any;\n\n    public filteredValue: any[];\n\n    public columns: Column[];\n\n    public columnsChanged: boolean = false;\n    \n    public dataChanged: boolean = false;\n    \n    public stopSortPropagation: boolean;\n    \n    public sortColumn: Column;\n    \n    public percentageScrollHeight: boolean;\n        \n    public scrollBody: any;\n    \n    public scrollHeader: any\n    \n    public scrollHeaderBox: any;\n    \n    public bodyScrollListener: any;\n    \n    public headerScrollListener: any;\n    \n    public resizeScrollListener: any;\n    \n    public columnResizing: boolean;\n    \n    public lastPageX: number;\n        \n    public documentColumnResizeListener: Function;\n    \n    public documentColumnResizeEndListener: Function;\n    \n    public resizerHelper: any;\n    \n    public resizeColumn: any;\n    \n    public reorderIndicatorUp: any;\n    \n    public reorderIndicatorDown: any;\n    \n    public draggedColumn: any;\n    \n    public dropPosition: number;\n            \n    public tbody: any;\n    \n    public rowTouch: boolean;\n    \n    public rowGroupToggleClick: boolean;\n    \n    public editingCell: any;\n    \n    public stopFilterPropagation: boolean;\n    \n    public rowGroupMetadata: any;\n    \n    public rowGroupHeaderTemplate: TemplateRef<any>;\n    \n    public rowGroupFooterTemplate: TemplateRef<any>;\n    \n    public rowExpansionTemplate: TemplateRef<any>;\n    \n    differ: any;\n\n    globalFilterFunction: any;\n\n    preventBlurOnEdit: boolean;\n    \n    columnsSubscription: Subscription;\n    \n    constructor(public el: ElementRef, public domHandler: DomHandler, differs: IterableDiffers, \n            public renderer: Renderer, private changeDetector: ChangeDetectorRef) {\n        this.differ = differs.find([]).create(null);\n    }\n\n    ngOnInit() {\n        if(this.lazy) {\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        }\n    }\n    \n    ngAfterContentInit() {\n        this.initColumns();\n        \n        this.columnsSubscription = this.cols.changes.subscribe(_ => {\n            this.initColumns();\n            this.changeDetector.markForCheck();\n        });\n        \n        this.templates.forEach((item) => {\n            switch(item.getType()) {\n                case 'rowexpansion':\n                    this.rowExpansionTemplate = item.template;\n                break;\n                \n                case 'rowgroupheader':\n                    this.rowGroupHeaderTemplate = item.template;\n                break;\n                \n                case 'rowgroupfooter':\n                    this.rowGroupFooterTemplate = item.template;\n                break;\n            }\n        });\n    }\n\n    ngAfterViewChecked() {\n        if(this.columnsChanged && this.el.nativeElement.offsetParent) {\n            if(this.resizableColumns) {\n                this.initResizableColumns();\n            }\n\n            if(this.reorderableColumns) {\n                this.initColumnReordering();\n            }\n\n            if(this.scrollable) {\n                this.refreshScrolling();\n            }\n\n            this.columnsChanged = false;\n        }\n        \n        if(this.dataChanged) {\n            if(this.scrollable) {\n                this.refreshScrolling();\n            }\n            \n            this.dataChanged = false;\n        }\n    }\n\n    ngAfterViewInit() {\n        if(this.globalFilter) {\n            this.globalFilterFunction = this.renderer.listen(this.globalFilter, 'keyup', () => {\n                this.filterTimeout = setTimeout(() => {\n                    this._filter();\n                    this.filterTimeout = null;\n                }, this.filterDelay);\n            });\n        }\n        \n        if(this.scrollable) {\n            this.initScrolling();\n        }\n    }\n\n    ngDoCheck() {\n        let changes = this.differ.diff(this.value);\n        if(changes) {\n            this.dataChanged = true;\n            if(this.paginator) {\n                this.updatePaginator();\n            }\n\n            if(this.hasFilter()) {\n                if(this.lazy) {\n                    //prevent loop\n                    if(this.stopFilterPropagation)\n                        this.stopFilterPropagation = false;\n                    else\n                        this._filter();\n                }\n                else {\n                    this._filter();\n                }\n            }\n                        \n            if(this.stopSortPropagation) {\n                this.stopSortPropagation = false;\n            }\n            else if(!this.lazy && (this.sortField||this.multiSortMeta)) {     \n                if(!this.sortColumn) {\n                    this.sortColumn = this.columns.find(col => col.field === this.sortField && col.sortable === 'custom');\n                }              \n                \n                if(this.sortMode == 'single')\n                    this.sortSingle();\n                else if(this.sortMode == 'multiple')\n                    this.sortMultiple();\n            }\n\n            this.updateDataToRender(this.filteredValue||this.value);\n        }\n    }\n    \n    initColumns(): void {\n        this.columns = this.cols.toArray();\n        this.columnsChanged = true;\n    }\n\n    resolveFieldData(data: any, field: string): any {\n        if(data && field) {\n            if(field.indexOf('.') == -1) {\n                return data[field];\n            }\n            else {\n                let fields: string[] = field.split('.');\n                let value = data;\n                for(var i = 0, len = fields.length; i < len; ++i) {\n                    if (value == null) {\n                        return null;\n                    }\n                    value = value[fields[i]];\n                }\n                return value;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    \n    updateRowGroupMetadata() {\n        this.rowGroupMetadata = {};\n        if(this.dataToRender) {\n            for(let i = 0; i < this.dataToRender.length; i++) {\n                let rowData = this.dataToRender[i];\n                let group = this.resolveFieldData(rowData, this.sortField);\n                if(i == 0) {\n                    this.rowGroupMetadata[group] = {index:0, size: 1};\n                }  \n                else {\n                    let previousRowData = this.dataToRender[i-1];\n                    let previousRowGroup = this.resolveFieldData(previousRowData, this.sortField);\n                    if(group === previousRowGroup) {\n                        this.rowGroupMetadata[group].size++;\n                    }\n                    else {\n                        this.rowGroupMetadata[group] = {index:i, size: 1};\n                    }\n                }\n            }\n        }\n    }\n    \n    updatePaginator() {\n        //total records\n        this.totalRecords = this.lazy ? this.totalRecords : (this.value ? this.value.length: 0);\n\n        //first\n        if(this.totalRecords && this.first >= this.totalRecords) {\n            let numberOfPages = Math.ceil(this.totalRecords/this.rows);\n            this.first = Math.max((numberOfPages-1) * this.rows, 0);\n        }\n    }\n\n    paginate(event) {\n        this.first = event.first;\n        this.rows = event.rows;\n\n        if(this.lazy) {\n            this.stopFilterPropagation = true;\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        }            \n        else {\n            this.updateDataToRender(this.filteredValue||this.value);\n        }\n\n        this.onPage.emit({\n            first: this.first,\n            rows: this.rows\n        });\n    }\n\n    updateDataToRender(datasource) {\n        if(this.paginator && datasource) {\n            this.dataToRender = [];\n            let startIndex = this.lazy ? 0 : this.first;\n            for(let i = startIndex; i < (startIndex+ this.rows); i++) {\n                if(i >= datasource.length) {\n                    break;\n                }\n\n                this.dataToRender.push(datasource[i]);\n            }\n        }\n        else {\n            this.dataToRender = datasource;\n        }\n        \n        if(this.rowGroupMode) {\n            this.updateRowGroupMetadata();\n        }\n    }\n    \n    onHeaderKeydown(event, column: Column) {\n        if(event.keyCode == 13) {\n            this.sort(event, column);\n            event.preventDefault();\n        }\n    }\n    \n    onHeaderMousedown(event, header: any) {\n        if(this.reorderableColumns) {\n            if(event.target.nodeName !== 'INPUT') {\n                header.draggable = true;\n            } else if(event.target.nodeName === 'INPUT') {\n                header.draggable = false;\n            }\n        }\n    }\n    \n    sort(event, column: Column) {\n        if(!column.sortable) {\n            return;\n        }\n        \n        let targetNode = event.target.nodeName;\n        if(targetNode == 'TH' || (targetNode == 'SPAN' && !this.domHandler.hasClass(event.target, 'ui-c'))) {\n            this.sortOrder = (this.sortField === column.field)  ? this.sortOrder * -1 : 1;\n            this.sortField = column.field;\n            this.sortColumn = column;\n            let metaKey = event.metaKey||event.ctrlKey;\n\n            if(this.lazy) {\n                this.stopFilterPropagation = true;\n                this.onLazyLoad.emit(this.createLazyLoadMetadata());\n            }\n            else {\n                if(this.sortMode == 'multiple') {\n                    if(!this.multiSortMeta||!metaKey) {\n                        this.multiSortMeta = [];\n                    }\n\n                    this.addSortMeta({field: this.sortField, order: this.sortOrder});\n                    this.sortMultiple();\n                }\n                else {\n                    this.sortSingle();\n                }\n            }\n            \n            this.onSort.emit({\n                field: this.sortField,\n                order: this.sortOrder,\n                multisortmeta: this.multiSortMeta\n            });\n        }\n    }\n\n    sortSingle() {\n        if(this.value) {\n            if(this.sortColumn && this.sortColumn.sortable === 'custom') {\n                this.sortColumn.sortFunction.emit({\n                    field: this.sortField,\n                    order: this.sortOrder\n                });\n            }\n            else {\n                this.value.sort((data1, data2) => {\n                    let value1 = this.resolveFieldData(data1, this.sortField);\n                    let value2 = this.resolveFieldData(data2, this.sortField);\n                    let result = null;\n\n                    if (value1 == null && value2 != null)\n                        result = -1;\n                    else if (value1 != null && value2 == null)\n                        result = 1;\n                    else if (value1 == null && value2 == null)\n                        result = 0;\n                    else if (typeof value1 === 'string' && typeof value2 === 'string')\n                        result = value1.localeCompare(value2);\n                    else\n                        result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\n\n                    return (this.sortOrder * result);\n                });\n            }\n            \n            this.first = 0;\n\n            if(this.hasFilter()) {\n                this._filter();\n            }\n        }\n        \n        //prevent resort at ngDoCheck\n        this.stopSortPropagation = true;\n    }\n\n    sortMultiple() {\n        if(this.value) {\n            this.value.sort((data1,data2) => {\n                return this.multisortField(data1, data2, this.multiSortMeta, 0);\n            });\n\n            if(this.hasFilter()) {\n                this._filter();\n            }\n        }\n        \n        //prevent resort at ngDoCheck\n        this.stopSortPropagation = true;\n    }\n\n    multisortField(data1,data2,multiSortMeta,index) {\n        let value1 = this.resolveFieldData(data1, multiSortMeta[index].field);\n        let value2 = this.resolveFieldData(data2, multiSortMeta[index].field);\n        let result = null;\n\n        if (typeof value1 == 'string' || value1 instanceof String) {\n            if (value1.localeCompare && (value1 != value2)) {\n                return (multiSortMeta[index].order * value1.localeCompare(value2));\n            }\n        }\n        else {\n            result = (value1 < value2) ? -1 : 1;\n        }\n\n        if(value1 == value2)  {\n            return (multiSortMeta.length - 1) > (index) ? (this.multisortField(data1, data2, multiSortMeta, index + 1)) : 0;\n        }\n\n        return (multiSortMeta[index].order * result);\n    }\n\n    addSortMeta(meta) {\n        var index = -1;\n        for(var i = 0; i < this.multiSortMeta.length; i++) {\n            if(this.multiSortMeta[i].field === meta.field) {\n                index = i;\n                break;\n            }\n        }\n\n        if(index >= 0)\n            this.multiSortMeta[index] = meta;\n        else\n            this.multiSortMeta.push(meta);\n    }\n\n    isSorted(column: Column) {\n        if(!column.sortable) {\n            return false;\n        }\n        \n        if(this.sortMode === 'single') {\n            return (this.sortField && column.field === this.sortField);\n        }\n        else if(this.sortMode === 'multiple') {\n            let sorted = false;\n            if(this.multiSortMeta) {\n                for(let i = 0; i < this.multiSortMeta.length; i++) {\n                    if(this.multiSortMeta[i].field == column.field) {\n                        sorted = true;\n                        break;\n                    }\n                }\n            }\n            return sorted;\n        }\n    }\n\n    getSortOrder(column: Column) {\n        let order = 0;\n        if(this.sortMode === 'single') {\n            if(this.sortField && column.field === this.sortField) {\n                order = this.sortOrder;\n            }\n        }\n        else if(this.sortMode === 'multiple') {\n            if(this.multiSortMeta) {\n                for(let i = 0; i < this.multiSortMeta.length; i++) {\n                    if(this.multiSortMeta[i].field == column.field) {\n                        order = this.multiSortMeta[i].order;\n                        break;\n                    }\n                }\n            }\n        }\n        return order;\n    }\n    \n    onRowGroupClick(event) {\n        if(this.rowGroupToggleClick) {\n            this.rowGroupToggleClick = false;\n            return;\n        }\n        \n        if(this.sortableRowGroup) {\n            let targetNode = event.target.nodeName;\n            if((targetNode == 'TD' || (targetNode == 'SPAN' && !this.domHandler.hasClass(event.target, 'ui-c')))) {\n                if(this.sortField != this.groupField) {\n                    this.sortField = this.groupField;\n                    this.sortSingle();\n                }\n                else {\n                    this.sortOrder = -1 * this.sortOrder;\n                    this.sortSingle();\n                }\n            }\n        }\n    }\n    \n    handleRowClick(event, rowData) {\n        if(this.rowTouch) {\n            this.rowTouch = false;\n            return false;\n        }\n        \n        let targetNode = event.target.nodeName;\n        if(targetNode == 'TD' || (targetNode == 'SPAN' && !this.domHandler.hasClass(event.target, 'ui-c'))) {\n            this.onRowClick.next({originalEvent: event, data: rowData});\n            \n            if(!this.selectionMode) {\n                return;\n            }\n            \n            let metaKey = event.metaKey||event.ctrlKey;\n            let selected = this.isSelected(rowData);\n            \n            if(selected && metaKey) {\n                if(this.isSingleSelectionMode()) {\n                    this.selection = null;\n                    this.selectionChange.emit(null);\n                }\n                else {\n                    this.selection.splice(this.findIndexInSelection(rowData), 1);\n                    this.selectionChange.emit(this.selection);\n                }\n                \n                this.onRowUnselect.emit({originalEvent: event, data: rowData, type: 'row'});\n            }\n            else {\n                if(this.isSingleSelectionMode()) {\n                    this.selection = rowData;\n                    this.selectionChange.emit(rowData);\n                }\n                else if(this.isMultipleSelectionMode()) {\n                    if(metaKey)\n                        this.selection = this.selection||[];\n                    else \n                        this.selection = [];\n                    \n                    this.selection.push(rowData);\n                    this.selectionChange.emit(this.selection);\n                }\n\n                this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'row'});\n            }\n        }\n    }\n\n    handleRowTap(event, rowData) {\n        this.rowTouch = true;\n        \n        let targetNode = event.target.nodeName;\n        if(targetNode == 'TD' || (targetNode == 'SPAN' && !this.domHandler.hasClass(event.target, 'ui-c'))) {\n            this.onRowClick.next({originalEvent: event, data: rowData});\n            \n            if(!this.selectionMode) {\n                return;\n            }\n            \n            if(this.isSelected(rowData)) {\n                if(this.isSingleSelectionMode()) {\n                    this.selection = null;\n                    this.selectionChange.emit(null);\n                }\n                else {\n                    this.selection.splice(this.findIndexInSelection(rowData), 1);\n                    this.selectionChange.emit(this.selection);\n                }\n                \n                this.onRowUnselect.emit({originalEvent: event, data: rowData, type: 'row'});\n            }\n            else {\n                if(this.isSingleSelectionMode()) {\n                    this.selection = rowData;\n                    this.selectionChange.emit(rowData);\n                }\n                else if(this.isMultipleSelectionMode()) {\n                    this.selection = this.selection||[];\n                    this.selection.push(rowData);\n                    this.selectionChange.emit(this.selection);\n                }\n\n                this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'row'});\n            }\n        }\n    }\n    \n    selectRowWithRadio(event, rowData:any) {\n        if(this.selection != rowData) {\n            this.selection = rowData;\n            this.selectionChange.emit(this.selection);\n            this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'radiobutton'});\n        }\n    }\n    \n    toggleRowWithCheckbox(event,rowData) {\n        let selectionIndex = this.findIndexInSelection(rowData);\n        this.selection = this.selection||[];\n        \n        if(selectionIndex != -1) {\n            this.selection.splice(selectionIndex, 1);\n            this.onRowUnselect.emit({originalEvent: event, data: rowData, type: 'checkbox'});\n        }\n            \n        else {\n            this.selection.push(rowData);\n            this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'checkbox'});\n        }\n                 \n        this.selectionChange.emit(this.selection);\n    }\n    \n    toggleRowsWithCheckbox(event) {\n        if(event.checked)\n            this.selection = this.dataToRender.slice(0);\n        else\n            this.selection = [];\n            \n        this.selectionChange.emit(this.selection);\n        \n        this.onHeaderCheckboxToggle.emit({originalEvent: event, checked: event.checked});\n    }\n    \n    onRowRightClick(event, rowData) {\n        if(this.contextMenu) {\n            let selectionIndex = this.findIndexInSelection(rowData);\n            let selected = selectionIndex != -1;\n            \n            if(!selected) {\n                if(this.isSingleSelectionMode()) {\n                    this.selection = rowData;\n                    this.selectionChange.emit(rowData);\n                }\n                else if(this.isMultipleSelectionMode()) {\n                    this.selection = [];\n                    this.selection.push(rowData);\n                    this.selectionChange.emit(this.selection);\n                }\n            }\n\n            this.contextMenu.show(event);            \n            this.onContextMenuSelect.emit({originalEvent: event, data: rowData});\n        }\n    }\n\n    rowDblclick(event, rowData) {\n        this.onRowDblclick.emit({originalEvent: event, data: rowData});\n    }\n\n    isSingleSelectionMode() {\n        return this.selectionMode === 'single';\n    }\n\n    isMultipleSelectionMode() {\n        return this.selectionMode === 'multiple';\n    }\n\n    findIndexInSelection(rowData: any) {\n        let index: number = -1;\n        if(this.selection) {\n            for(let i = 0; i  < this.selection.length; i++) {\n                if(this.domHandler.equals(rowData, this.selection[i])) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n\n        return index;\n    }\n\n    isSelected(rowData) {\n        return ((rowData && this.domHandler.equals(rowData, this.selection)) || this.findIndexInSelection(rowData) != -1);\n    }\n    \n    get allSelected() {\n        let val = true;\n        if(this.dataToRender && this.selection && (this.dataToRender.length <= this.selection.length)) {\n            for(let data of this.dataToRender) {\n                if(!this.isSelected(data)) {\n                    val = false;\n                    break;\n                }\n            }\n        }\n        else {\n            val = false;\n        }\n        return val;\n    }\n\n    onFilterKeyup(value, field, matchMode) {\n        if(this.filterTimeout) {\n            clearTimeout(this.filterTimeout);\n        }\n\n        this.filterTimeout = setTimeout(() => {\n            this.filter(value, field, matchMode);\n            this.filterTimeout = null;            \n        }, this.filterDelay);\n    }\n    \n    filter(value, field, matchMode) {\n        if(!this.isFilterBlank(value))\n            this.filters[field] = {value: value, matchMode: matchMode};\n        else if(this.filters[field])\n            delete this.filters[field];\n        \n        if(this.lazy) {\n            this.stopFilterPropagation = true;\n        }\n        \n        this._filter(); \n    }\n    \n    isFilterBlank(filter: any): boolean {\n        if(filter !== null && filter !== undefined) {\n            if((typeof filter === 'string' && filter.trim().length == 0) || (filter instanceof Array && filter.length == 0))\n                return true;\n            else\n                return false;\n        } \n        return true;\n    }\n\n    _filter() {\n        this.first = 0;\n        \n        if(this.lazy) {\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        }\n        else {\n            this.filteredValue = [];\n\n            for(let i = 0; i < this.value.length; i++) {\n                let localMatch = true;\n                let globalMatch = false;\n\n                for(let j = 0; j < this.columns.length; j++) {\n                    let col = this.columns[j],\n                    filterMeta = this.filters[col.field];\n\n                    //local\n                    if(filterMeta) {\n                        let filterValue = filterMeta.value,\n                        filterField = col.field,\n                        filterMatchMode = filterMeta.matchMode||'startsWith',\n                        dataFieldValue = this.resolveFieldData(this.value[i], filterField);\n                        let filterConstraint = this.filterConstraints[filterMatchMode];\n\n                        if(!filterConstraint(dataFieldValue, filterValue)) {\n                            localMatch = false;\n                        }\n\n                        if(!localMatch) {\n                            break;\n                        }\n                    }\n\n                    //global\n                    if(this.globalFilter && !globalMatch) {\n                        globalMatch = this.filterConstraints['contains'](this.resolveFieldData(this.value[i], col.field), this.globalFilter.value);\n                    }\n                }\n\n                let matches = localMatch;\n                if(this.globalFilter) {\n                    matches = localMatch&&globalMatch;\n                }\n\n                if(matches) {\n                    this.filteredValue.push(this.value[i]);\n                }\n            }\n\n            if(this.filteredValue.length === this.value.length) {\n                this.filteredValue = null;\n            }\n\n            if(this.paginator) {\n                this.totalRecords = this.filteredValue ? this.filteredValue.length: this.value ? this.value.length: 0;\n            }\n\n            this.updateDataToRender(this.filteredValue||this.value);\n        }\n        \n        this.onFilter.emit({\n            filters: this.filters\n        });\n    }\n\n    hasFilter() {\n        let empty = true;\n        for(let prop in this.filters) {\n            if(this.filters.hasOwnProperty(prop)) {\n                empty = false;\n                break;\n            }\n        }\n\n        return !empty || (this.globalFilter && this.globalFilter.value && this.globalFilter.value.trim().length);\n    }\n\n    onFilterInputClick(event) {\n        event.stopPropagation();\n    }\n\n    filterConstraints = {\n\n        startsWith(value, filter): boolean {\n            if(filter === undefined || filter === null || filter.trim() === '') {\n                return true;\n            }\n\n            if(value === undefined || value === null) {\n                return false;\n            }\n\n            let filterValue = filter.toLowerCase();\n            return value.toString().toLowerCase().slice(0, filterValue.length) === filterValue;\n        },\n\n        contains(value, filter): boolean {\n            if(filter === undefined || filter === null || (typeof filter === 'string' && filter.trim() === '')) {\n                return true;\n            }\n\n            if(value === undefined || value === null) {\n                return false;\n            }\n            \n            return value.toString().toLowerCase().indexOf(filter.toLowerCase()) !== -1;\n        },\n\n        endsWith(value, filter): boolean {\n            if(filter === undefined || filter === null || filter.trim() === '') {\n                return true;\n            }\n\n            if(value === undefined || value === null) {\n                return false;\n            }\n\n            let filterValue = filter.toString().toLowerCase();\n            return value.toString().toLowerCase().indexOf(filterValue, value.toString().length - filterValue.length) !== -1;\n        },\n        \n        equals(value, filter): boolean {\n            if(filter === undefined || filter === null || (typeof filter === 'string' && filter.trim() === '')) {\n                return true;\n            }\n            \n            if(value === undefined || value === null) {\n                return false;\n            }\n            \n            return value.toString().toLowerCase() == filter.toString().toLowerCase();\n        },\n        \n        in(value, filter: any[]): boolean {\n            if(filter === undefined || filter === null || filter.length === 0) {\n                return true;\n            }\n\n            if(value === undefined || value === null) {\n                return false;\n            }\n            \n            for(let i = 0; i < filter.length; i++) {\n                if(filter[i] === value)\n                    return true;\n            }\n            \n            return false;\n        }\n    }\n\n    switchCellToEditMode(element: any, column: Column, rowData: any) {\n        if(!this.selectionMode && this.editable && column.editable) {\n            let cell = this.findCell(element);\n            if(cell != this.editingCell) {\n                this.editingCell = cell;\n                this.onEditInit.emit({column: column, data: rowData});\n                if(!this.domHandler.hasClass(cell, 'ui-cell-editing')) {\n                    this.domHandler.addClass(cell, 'ui-cell-editing');\n                    this.domHandler.addClass(cell, 'ui-state-highlight');\n                    let editor = cell.querySelector('.ui-cell-editor').focus();\n                }                \n            }\n        }\n    }\n\n    switchCellToViewMode(element: any, column: Column, rowData: any, complete: boolean) {\n        if(this.editable) {\n            if(this.preventBlurOnEdit) {\n                this.preventBlurOnEdit = false;\n            }\n            else {\n                if(complete)\n                    this.onEditComplete.emit({column: column, data: rowData});\n                else\n                    this.onEditCancel.emit({column: column, data: rowData});\n\n                let cell = this.findCell(element);\n                this.domHandler.removeClass(cell, 'ui-cell-editing');\n                this.domHandler.removeClass(cell, 'ui-state-highlight');\n                this.editingCell = null;\n            }\n        }\n    }\n\n    onCellEditorKeydown(event, column: Column, rowData: any, colIndex: number) {\n        if(this.editable) {\n            this.onEdit.emit({originalEvent: event,column: column, data: rowData});\n            \n            //enter\n            if(event.keyCode == 13) {\n                this.switchCellToViewMode(event.target, column, rowData, true);\n                this.preventBlurOnEdit = true;\n                event.preventDefault();\n            }\n            \n            //escape\n            else if(event.keyCode == 27) {\n                this.switchCellToViewMode(event.target, column, rowData, false);\n                this.preventBlurOnEdit = true;\n                event.preventDefault();\n            }\n            \n            //tab\n            else if(event.keyCode == 9) {\n                let currentCell = this.findCell(event.target);\n                let row = currentCell.parentElement;\n                let targetCell;\n                \n                if(event.shiftKey) {\n                    if(colIndex == 0) {\n                        let previousRow = row.previousElementSibling;\n                        if(previousRow) {\n                            targetCell = previousRow.lastElementChild;\n                        }\n                    }\n                    else {\n                        targetCell = row.children[colIndex - 1];\n                    }\n                }\n                else {\n                    if(colIndex == (row.children.length - 1)) {\n                        let nextRow = row.nextElementSibling;\n                        if(nextRow) {\n                            targetCell = nextRow.firstElementChild;\n                        }\n                    }\n                    else {\n                        targetCell = row.children[colIndex + 1];\n                    }\n                }\n                \n                if(targetCell) {\n                    this.renderer.invokeElementMethod(targetCell, 'click');\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    findCell(element) {\n        let cell = element;\n        while(cell.tagName != 'TD') {\n            cell = cell.parentElement;\n        }\n\n        return cell;\n    }\n\n    initResizableColumns() {\n        this.tbody = this.domHandler.findSingle(this.el.nativeElement, 'tbody.ui-datatable-data');\n        this.resizerHelper = this.domHandler.findSingle(this.el.nativeElement, 'div.ui-column-resizer-helper');\n        this.fixColumnWidths();\n        \n        this.documentColumnResizeListener = this.renderer.listenGlobal('body', 'mousemove', (event) => {\n            if(this.columnResizing) {\n                this.onColumnResize(event);\n            }\n        });\n        \n        this.documentColumnResizeEndListener = this.renderer.listenGlobal('body', 'mouseup', (event) => {\n            if(this.columnResizing) {\n                this.columnResizing = false;\n                this.onColumnResizeEnd(event);\n            }\n        });\n    }\n    \n    initColumnResize(event) {\n        this.resizeColumn = event.target.parentElement;\n        this.columnResizing = true;\n        this.lastPageX = event.pageX;\n    }\n    \n    onColumnResize(event) {\n        let container = this.el.nativeElement.children[0];\n        this.domHandler.addClass(container, 'ui-unselectable-text');\n        this.resizerHelper.style.height = container.offsetHeight - 4 + 'px';\n        this.resizerHelper.style.top = container.offsetTop + 'px';\n        if(event.pageX > container.offsetLeft && event.pageX < (container.offsetLeft + container.offsetWidth)) {\n            this.resizerHelper.style.left = event.pageX + 'px';\n        }\n        \n        this.resizerHelper.style.display = 'block';\n    }\n    \n    onColumnResizeEnd(event) {\n        let delta = this.resizerHelper.offsetLeft - this.lastPageX;\n        let columnWidth = this.resizeColumn.offsetWidth;\n        let newColumnWidth = columnWidth + delta;\n        let minWidth = this.resizeColumn.style.minWidth||15;\n        \n        if(columnWidth + delta > parseInt(minWidth)) {\n            if(this.columnResizeMode === 'fit') {\n                let nextColumn = this.resizeColumn.nextElementSibling;\n                let nextColumnWidth = nextColumn.offsetWidth - delta;\n                \n                if(newColumnWidth > 15 && nextColumnWidth > 15) {\n                    this.resizeColumn.style.width = newColumnWidth + 'px';\n                    if(nextColumn) {\n                        nextColumn.style.width = nextColumnWidth + 'px';\n                    }\n                }\n            }\n            else if(this.columnResizeMode === 'expand') {\n                this.tbody.parentElement.style.width = this.tbody.parentElement.offsetWidth + delta + 'px';\n                this.resizeColumn.style.width = newColumnWidth + 'px';\n                \n                if(this.header) {\n                    let headerEL = this.domHandler.findSingle(this.el.nativeElement, 'div.ui-datatable-header');\n                    headerEL.style.width = this.tbody.parentElement.style.width;\n                }\n                \n                if(this.footer) {\n                    let footerEL = this.domHandler.findSingle(this.el.nativeElement, 'div.ui-datatable-footer');\n                    footerEL.style.width = this.tbody.parentElement.style.width;\n                }\n            }    \n            \n            this.onColResize.emit({\n                element: this.resizeColumn,\n                delta: delta\n            });\n        }\n                \n        this.resizerHelper.style.display = 'none';\n        this.resizeColumn = null;\n        this.domHandler.removeClass(this.el.nativeElement.children[0], 'ui-unselectable-text');\n    }\n    \n    fixColumnWidths() {\n        let columns = this.domHandler.find(this.el.nativeElement, 'th.ui-resizable-column');\n        \n        for(let col of columns) {\n            col.style.width = col.offsetWidth + 'px';\n        }\n    }\n    \n    onColumnDragStart(event) {\n        if (this.columnResizing) {\n            event.preventDefault();\n            return;\n        }\n\n        this.draggedColumn = this.findParentHeader(event.target);\n        event.dataTransfer.setData('text', 'b'); // Firefox requires this to make dragging possible\n    }\n    \n    onColumnDragover(event) {\n        if(this.reorderableColumns && this.draggedColumn) {\n            event.preventDefault();\n            let dropHeader = this.findParentHeader(event.target);\n            \n            if(this.draggedColumn != dropHeader) {\n                let targetPosition = dropHeader.getBoundingClientRect();\n                let targetLeft = targetPosition.left + this.domHandler.getWindowScrollLeft();\n                let targetTop =  targetPosition.top + this.domHandler.getWindowScrollTop();\n                let columnCenter = targetLeft + dropHeader.offsetWidth / 2;\n                \n                this.reorderIndicatorUp.style.top = (targetTop - 16) + 'px';\n                this.reorderIndicatorDown.style.top = targetTop + dropHeader.offsetHeight + 'px';\n\n                if(event.pageX > columnCenter) {\n                    this.reorderIndicatorUp.style.left = (targetLeft + dropHeader.offsetWidth - 8) + 'px';\n                    this.reorderIndicatorDown.style.left = (targetLeft + dropHeader.offsetWidth - 8)+ 'px';\n                    this.dropPosition = 1;\n                }\n                else {\n                    this.reorderIndicatorUp.style.left = (targetLeft - 8) + 'px';\n                    this.reorderIndicatorDown.style.left = (targetLeft - 8)+ 'px';\n                    this.dropPosition = -1;\n                }\n                \n                this.reorderIndicatorUp.style.display = 'block';\n                this.reorderIndicatorDown.style.display = 'block';\n            }\n            else {\n                event.dataTransfer.dropEffect = 'none';\n            }\n        }\n    }\n    \n    onColumnDragleave(event) {\n        if(this.reorderableColumns && this.draggedColumn) {\n            event.preventDefault();\n            this.reorderIndicatorUp.style.display = 'none';\n            this.reorderIndicatorDown.style.display = 'none';\n        }\n    }\n    \n    onColumnDrop(event) {\n        event.preventDefault();\n        if(this.draggedColumn) {\n             let dragIndex = this.domHandler.index(this.draggedColumn);\n            let dropIndex = this.domHandler.index(this.findParentHeader(event.target));\n            let allowDrop = (dragIndex != dropIndex);\n            if(allowDrop && ((dropIndex - dragIndex == 1 && this.dropPosition === -1) || (dragIndex - dropIndex == 1 && this.dropPosition === 1))) {\n                allowDrop = false;\n            }\n        \n            if(allowDrop) {\n                this.columns.splice(dropIndex, 0, this.columns.splice(dragIndex, 1)[0]);\n\n                this.onColReorder.emit({\n                    dragIndex: dragIndex,\n                    dropIndex: dropIndex,\n                    columns: this.columns\n                });\n            }\n            \n            this.reorderIndicatorUp.style.display = 'none';\n            this.reorderIndicatorDown.style.display = 'none';\n            this.draggedColumn.draggable = false;\n            this.draggedColumn = null;\n            this.dropPosition = null;\n        }\n    }\n\n    initColumnReordering() {\n        this.reorderIndicatorUp = this.domHandler.findSingle(this.el.nativeElement.children[0], 'span.ui-datatable-reorder-indicator-up');\n        this.reorderIndicatorDown = this.domHandler.findSingle(this.el.nativeElement.children[0], 'span.ui-datatable-reorder-indicator-down');\n    }\n    \n    findParentHeader(element) {\n        if(element.nodeName == 'TH') {\n            return element;\n        }\n        else {\n            let parent = element.parentElement;\n            while(parent.nodeName != 'TH') {\n                parent = parent.parentElement;\n            }\n            return parent;\n        }\n    }\n\n    initScrolling() {\n        this.scrollHeader = this.domHandler.findSingle(this.el.nativeElement, '.ui-datatable-scrollable-header');\n        this.scrollHeaderBox = this.domHandler.findSingle(this.el.nativeElement, '.ui-datatable-scrollable-header-box');\n        this.scrollBody = this.domHandler.findSingle(this.el.nativeElement, '.ui-datatable-scrollable-body');\n        this.percentageScrollHeight = this.scrollHeight && (this.scrollHeight.indexOf('%') !== -1);\n        \n        this.bodyScrollListener = this.renderer.listen(this.scrollBody, 'scroll', () => {\n            this.scrollHeaderBox.style.marginLeft = -1 * this.scrollBody.scrollLeft + 'px';\n        });\n        \n        this.headerScrollListener = this.renderer.listen(this.scrollHeader, 'scroll', () => {\n            this.scrollHeader.scrollLeft = 0;\n        });\n        \n        if(this.percentageScrollHeight) {\n            this.resizeScrollListener = this.renderer.listenGlobal('window', 'resize', () => {\n                this.scrollBody.style.maxHeight = this.domHandler.getOuterHeight(this.el.nativeElement.parentElement) * (parseInt(this.scrollHeight) / 100) + 'px';\n            });\n        }\n    }\n    \n    refreshScrolling() {\n        let tableHeader = this.domHandler.findSingle(this.el.nativeElement, '.ui-datatable-header');\n        \n        if(this.scrollHeight) {\n            if(this.percentageScrollHeight) {\n                let relativeHeight = this.domHandler.getOuterHeight(this.el.nativeElement.parentElement) * (parseInt(this.scrollHeight) / 100);\n                let headerHeight =  this.domHandler.getOuterHeight(this.scrollHeader);\n                if(tableHeader) {\n                    headerHeight += this.domHandler.getOuterHeight(tableHeader);\n                }\n                this.scrollBody.style.maxHeight = (relativeHeight - headerHeight) + 'px';\n            }\n            else {\n                this.scrollBody.style.maxHeight = this.scrollHeight;\n            }\n\n            let marginRight = this.hasVerticalOverflow() ? this.calculateScrollbarWidth() : 0;\n            this.scrollHeaderBox.style.marginRight = marginRight + 'px';\n        }\n    }\n        \n    calculateScrollbarWidth(): number {\n        let scrollDiv = document.createElement(\"div\");\n        scrollDiv.className = \"ui-scrollbar-measure\";\n        document.body.appendChild(scrollDiv);\n\n        let scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        document.body.removeChild(scrollDiv);\n        \n        return scrollbarWidth;\n    }\n    \n    hasVerticalOverflow(): boolean {\n        return this.scrollHeight && this.domHandler.getOuterHeight(this.scrollBody.children[0]) > this.domHandler.getOuterHeight(this.scrollBody);\n    }\n\n    hasFooter() {\n        if(this.footerColumnGroup) {\n            return true;\n        }\n        else {\n            if(this.columns) {\n                for(let i = 0; i  < this.columns.length; i++) {\n                    if(this.columns[i].footer) {\n                        return true;\n                    }\n                }\n            }\n\n        }\n        return false;\n    }\n\n    isEmpty() {\n        return !this.dataToRender||(this.dataToRender.length == 0);\n    }\n\n    createLazyLoadMetadata(): LazyLoadEvent {\n        return {\n            first: this.first,\n            rows: this.rows,\n            sortField: this.sortField,\n            sortOrder: this.sortOrder,\n            filters: this.filters,\n            multiSortMeta: this.multiSortMeta\n        };\n    }\n    \n    toggleRow(row: any, event?: Event) {\n        if(!this.expandedRows) {\n            this.expandedRows = [];\n        }\n        \n        let expandedRowIndex = this.findExpandedRowIndex(row);\n        \n        if(expandedRowIndex != -1) {\n            this.expandedRows.splice(expandedRowIndex, 1);\n            this.onRowCollapse.emit({\n                originalEvent: event, \n                data: row\n            });\n        }\n        else {\n            this.expandedRows.push(row);\n            this.onRowExpand.emit({\n                originalEvent: event, \n                data: row\n            });\n        }\n        \n        if(event) {\n            event.preventDefault();\n        }\n    }\n    \n    findExpandedRowIndex(row: any): number {\n        let index = -1\n        if(this.expandedRows) {\n            for(let i = 0; i < this.expandedRows.length; i++) {\n                if(this.expandedRows[i] == row) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    }\n    \n    isRowExpanded(row: any): boolean {\n        return this.findExpandedRowIndex(row) != -1;\n    }\n    \n    findExpandedRowGroupIndex(row: any): number {\n        let index = -1;\n        if(this.expandedRowsGroups && this.expandedRowsGroups.length) {\n            for(let i = 0; i < this.expandedRowsGroups.length; i++) {\n                let group = this.expandedRowsGroups[i];\n                let rowGroupField = this.resolveFieldData(row, this.groupField);\n                if(rowGroupField === group) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    }\n    \n    isRowGroupExpanded(row: any): boolean {\n        return this.findExpandedRowGroupIndex(row) != -1;\n    }\n    \n    toggleRowGroup(event: Event, row: any): void {\n        this.rowGroupToggleClick = true;\n        let index = this.findExpandedRowGroupIndex(row);\n        let rowGroupField = this.resolveFieldData(row, this.groupField);\n        if(index >= 0) {\n            this.expandedRowsGroups.splice(index, 1);\n            this.onRowGroupCollapse.emit({\n                originalEvent: event, \n                group: rowGroupField\n            });\n        }\n        else {\n            this.expandedRowsGroups = this.expandedRowsGroups||[],\n            this.expandedRowsGroups.push(rowGroupField);\n            this.onRowGroupExpand.emit({\n                originalEvent: event, \n                group: rowGroupField\n            });\n        }\n        event.preventDefault();\n    }\n        \n    public reset() {\n        this.sortField = null;\n        this.sortOrder = 1;\n        \n        this.filteredValue = null;\n        this.filters = {};\n\n        if(this.paginator) {\n            this.paginate({\n                first: 0,\n                rows: this.rows\n            });\n        }\n        else {\n            this.updateDataToRender(this.value);\n        }\n    }\n\n    visibleColumns() {\n        return this.columns ? this.columns.filter(c => !c.hidden): [];\n    }\n    \n    public exportCSV() {\n        let data = this.value;\n        let csv = '';\n        \n        //headers\n        for(let i = 0; i < this.columns.length; i++) {\n            if(this.columns[i].field) {\n                csv += this.columns[i].field;\n                \n                if(i < (this.columns.length - 1)) {\n                    csv += this.csvSeparator;\n                }\n            }\n        }\n        \n        //body        \n        this.value.forEach((record, i) => {\n            csv += '\\n';\n            for(let i = 0; i < this.columns.length; i++) {\n                if(this.columns[i].field) {\n                    csv += this.resolveFieldData(record, this.columns[i].field);\n                    \n                    if(i < (this.columns.length - 1)) {\n                        csv += this.csvSeparator;\n                    }\n                }\n            }\n        });\n        \n        let blob = new Blob([csv],{\n            type: 'text/csv;charset=utf-8;'\n        });\n        \n        if(window.navigator.msSaveOrOpenBlob) {\n            navigator.msSaveOrOpenBlob(blob, this.exportFilename + '.csv');\n        }\n        else {\n            let link = document.createElement(\"a\");\n            link.style.display = 'none';\n            document.body.appendChild(link);\n            if(link.download !== undefined) {\n                link.setAttribute('href', URL.createObjectURL(blob));\n                link.setAttribute('download', this.exportFilename + '.csv');\n                document.body.appendChild(link);\n                link.click();\n            }\n            else {\n                csv = 'data:text/csv;charset=utf-8,' + csv;\n                window.open(encodeURI(csv));\n            }\n            document.body.removeChild(link);\n        }\n    }\n    \n    getBlockableElement(): HTMLElement {\n        return this.el.nativeElement.children[0];\n    }\n    \n    getRowStyleClass(rowData: any, rowIndex: number) {\n        let styleClass = 'ui-widget-content';\n        if(this.rowStyleClass) {\n            let rowClass = this.rowStyleClass.call(this, rowData, rowIndex);\n            if(rowClass) {\n                styleClass += ' ' + rowClass;\n            }\n        }\n        return styleClass;\n    }\n\n    ngOnDestroy() {\n        //remove event listener\n        if(this.globalFilterFunction) {\n            this.globalFilterFunction();\n        }\n        \n        if(this.scrollable) {\n            this.bodyScrollListener();\n            this.headerScrollListener();\n            \n            if(this.percentageScrollHeight) {\n                this.resizeScrollListener();\n            }\n        }\n        \n        if(this.resizableColumns && this.documentColumnResizeListener && this.documentColumnResizeEndListener) {\n            this.documentColumnResizeListener();\n            this.documentColumnResizeEndListener();\n        }\n        \n        if(this.columnsSubscription) {\n            this.columnsSubscription.unsubscribe();\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,SharedModule,PaginatorModule,FormsModule,InputTextModule],\n    exports: [DataTable,SharedModule],\n    declarations: [DataTable,DTRadioButton,DTCheckbox,RowExpansionLoader]\n})\nexport class DataTableModule { }\n"]}
{"version":3,"file":"slidemenu.js","sourceRoot":"","sources":["slidemenu.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,ElementRef,AfterViewInit,OnDestroy,Input,Output,Renderer,EventEmitter,Inject,forwardRef,ViewChild} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DomHandler} from '../dom/domhandler';\nimport {MenuItem} from '../common/api';\nimport {Location} from '@angular/common';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'p-slideMenuSub',\n    template: `\n        <ul [ngClass]=\"{'ui-helper-reset ui-menu-rootlist':root, 'ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-child':!root}\" class=\"ui-menu-list\"\n            [style.width.px]=\"menuWidth\" [style.left.px]=\"root ? slideMenu.left : slideMenu.menuWidth\" \n            [style.transitionProperty]=\"root ? 'left' : 'none'\" [style.transitionDuration]=\"effectDuration + 'ms'\" [style.transitionTimingFunction]=\"easing\">\n            <template ngFor let-child [ngForOf]=\"(root ? item : item.items)\">\n                <li #listitem [ngClass]=\"{'ui-menuitem ui-widget ui-corner-all':true,'ui-menu-parent':child.items,'ui-menuitem-active':listitem==activeItem}\">\n                    <a #link [href]=\"child.url||'#'\" class=\"ui-menuitem-link ui-corner-all\" \n                        [ngClass]=\"{'ui-state-hover':link==hoveredLink&&!child.disabled,'ui-menuitem-link-parent':child.items,'ui-state-disabled':child.disabled}\" \n                        (click)=\"itemClick($event, child, listitem)\" (mouseenter)=\"hoveredLink=link\" (mouseleave)=\"hoveredLink=null\">\n                        <span class=\"ui-submenu-icon fa fa-fw fa-caret-right\" *ngIf=\"child.items\"></span>\n                        <span class=\"ui-menuitem-icon fa fa-fw\" *ngIf=\"child.icon\" [ngClass]=\"child.icon\"></span>\n                        <span class=\"ui-menuitem-text\">{{child.label}}</span>\n                    </a>\n                    <p-slideMenuSub class=\"ui-submenu\" [item]=\"child\" [menuWidth]=\"menuWidth\" *ngIf=\"child.items\"></p-slideMenuSub>\n                </li>\n            </template>\n        </ul>\n    `\n})\nexport class SlideMenuSub implements OnDestroy {\n\n    @Input() item: MenuItem;\n    \n    @Input() root: boolean;\n    \n    @Input() backLabel: string = 'Back';\n    \n    @Input() menuWidth: string;\n    \n    @Input() effectDuration: any;\n        \n    @Input() easing: string = 'ease-out';\n        \n    constructor(@Inject(forwardRef(() => SlideMenu)) public slideMenu: SlideMenu, public router: Router) {}\n        \n    activeItem: any;\n            \n    hoveredLink: any;\n                \n    itemClick(event, item: MenuItem, listitem: any)Â {\n        if(item.disabled) {\n            event.preventDefault();\n            return;\n        }\n        \n        if(!item.url||item.routerLink) {\n            event.preventDefault();\n        }\n                \n        if(item.command) {\n            if(!item.eventEmitter && item.command) {\n                item.eventEmitter = new EventEmitter();\n                item.eventEmitter.subscribe(item.command);\n            }\n            \n            item.eventEmitter.emit({\n                originalEvent: event,\n                item: item\n            });\n        }\n        \n        if(item.items && !this.slideMenu.animating) {\n            this.slideMenu.left -= this.slideMenu.menuWidth;\n            this.activeItem = listitem;\n            this.slideMenu.animating = true;\n            setTimeout(() => this.slideMenu.animating = false, this.effectDuration);\n        }\n        \n        if(item.routerLink) {\n            this.router.navigate(item.routerLink);\n        }\n    }\n        \n    ngOnDestroy() {\n        this.activeItem = null;\n        this.hoveredLink = null;\n    }\n}\n\n@Component({\n    selector: 'p-slideMenu',\n    template: `\n        <div #container [ngClass]=\"{'ui-menu ui-slidemenu ui-widget ui-widget-content ui-corner-all':true,'ui-menu-dynamic ui-shadow':popup}\" \n            [class]=\"styleClass\" [ngStyle]=\"style\" (click)=\"onClick($event)\">\n            <div class=\"ui-slidemenu-wrapper\" [style.height.px]=\"viewportHeight\">\n                <div class=\"ui-slidemenu-content\" [style.height.px]=\"viewportContentHeight\">\n                    <p-slideMenuSub [item]=\"model\" root=\"root\" [menuWidth]=\"menuWidth\" [effectDuration]=\"effectDuration\" [easing]=\"easing\"></p-slideMenuSub>\n                </div>\n                <div #backward class=\"ui-slidemenu-backward ui-widget-header ui-corner-all\" [style.display]=\"left ? 'block' : 'none'\" (click)=\"goBack()\">\n                    <span class=\"fa fa-fw fa-caret-left\"></span><span>{{backLabel}}</span>\n                </div>\n            </div>\n        </div>\n    `,\n    providers: [DomHandler]\n})\nexport class SlideMenu implements AfterViewInit,OnDestroy {\n\n    @Input() model: MenuItem[];\n\n    @Input() popup: boolean;\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n    \n    @Input() menuWidth: number = 200;\n    \n    @Input() viewportHeight: number = 175;\n    \n    @Input() effectDuration: any = 500;\n        \n    @Input() easing: string = 'ease-out';\n    \n    @Input() backLabel: string = 'Back';\n    \n    @ViewChild('container') containerViewChild: ElementRef;\n    \n    @ViewChild('backward') backwardViewChild: ElementRef;\n    \n    public container: HTMLDivElement;\n    \n    public backwardElement: HTMLDivElement;\n    \n    public documentClickListener: any;\n    \n    public preventDocumentDefault: any;\n        \n    public left: number = 0;\n    \n    public animating: boolean = false;\n    \n    public viewportContentHeight: number;\n        \n    constructor(public el: ElementRef, public domHandler: DomHandler, public renderer: Renderer) {}\n\n    ngAfterViewInit() {\n        this.container = <HTMLDivElement> this.containerViewChild.nativeElement;\n        this.backwardElement = <HTMLDivElement> this.backwardViewChild.nativeElement;\n        this.viewportContentHeight = this.viewportHeight - this.domHandler.getHiddenElementOuterHeight(this.backwardElement);\n        \n        if(this.popup) {\n            this.documentClickListener = this.renderer.listenGlobal('body', 'click', () => {\n                if(!this.preventDocumentDefault) {\n                    this.hide();\n                }\n                this.preventDocumentDefault = false;\n            });\n        }\n    }\n    \n    toggle(event) {\n        if(this.container.offsetParent)\n            this.hide();\n        else\n            this.show(event);\n            \n        this.preventDocumentDefault = true;\n    }\n    \n    show(event) {\n        this.container.style.display = 'block';\n        this.domHandler.absolutePosition(this.container, event.target);\n        this.domHandler.fadeIn(this.container, 250);\n    }\n    \n    hide() {\n        this.container.style.display = 'none';\n    }\n\n    unsubscribe(item: any) {\n        if(item.eventEmitter) {\n            item.eventEmitter.unsubscribe();\n        }\n        \n        if(item.items) {\n            for(let childItem of item.items) {\n                this.unsubscribe(childItem);\n            }\n        }\n    }\n    \n    onClick(event) {\n        this.preventDocumentDefault = true;\n    }\n    \n    goBack() {\n        this.left += this.menuWidth;\n    }\n        \n    ngOnDestroy() {\n        if(this.documentClickListener) {\n            this.documentClickListener();\n        }\n        \n        if(this.model) {\n            for(let item of this.model) {\n                this.unsubscribe(item);\n            }\n        }\n    }\n\n}\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [SlideMenu],\n    declarations: [SlideMenu,SlideMenuSub]\n})\nexport class SlideMenuModule { }"]}